<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>UnPacker</title>
    <style> textarea {width: 100%} </style>
</head>
<body>
    <div class="container_12">
        <div class="grid_9">
            <h3>JavaScript Packer UnPacker</h3>
        </div>
        <div class="clear"> </div>
        <div class="grid_7">
            <p>
                <label>
                    <textarea name="input" id="input" cols="60" rows="10">eval(function(p,a,c,k,e,r){e=String;if(!''.replace(/^/,String)){while(c--)r[c]=k[c]||c;k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('(0(){4 1="5 6 7 8";0 2(3){9(3)}2(1)})();',10,10,'function|b|something|a|var|some|sample|packed|code|alert'.split('|'),0,{}))</textarea>
                </label>
            </p>
            <p>
                <label>
                    <input type="button" name="unpack" id="unpack" value="UnPack">
                </label>
                <label>
                    <input type="button" name="clear" id="clear" value="Clear">
                </label>
            </p>
            <p>
                <label>
                    <textarea name="out" id="out" cols="60" rows="10"></textarea>
                </label>
            </p>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.1.0.js"></script>
    <script>
        $("#unpack").click(function () {
            $.ajax({
                url: '/api/unpack',
                type: 'POST',
                contentType: 'application/json',
                data: JSON.stringify({ code: $("#input").val() }),
                success: function(data) {
                    $("#out").val(data);
                },
                error: function(xhr, status, error) {
                    $("#out").val('Error: ' + xhr.responseText);
                }
            });
        });
        $("#clear").click(function () {
            $("textarea").val('');
        });
    </script>
</body>
</html>
